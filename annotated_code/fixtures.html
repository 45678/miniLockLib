<!DOCTYPE HTML>
<html>
<head>
  <meta charset="UTF-8">
  <title>miniLockLib/fixtures.coffee</title>
  <link rel="stylesheet" href="../stylesheet.css">
  <script src="../annotated_code.js"></script>
</head>
<body class="avenir calibri consolas annotated_code">

<header>
  <h1>
    <a href="../"><svg viewBox="0 0 525 702" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <g fill-rule="evenodd">
        <rect fill="#FFFFFF" x="60" y="320" width="420" height="320"></rect>
        <path fill="#000000" d="M347.8125,478.934579 C369.558712,478.934579 387.1875,461.310499 387.1875,439.570093 C387.1875,417.829688 369.558712,400.205607 347.8125,400.205607 C326.066288,400.205607 308.4375,417.829688 308.4375,439.570093 C308.4375,461.310499 326.066288,478.934579 347.8125,478.934579 Z M177.1875,478.934579 C198.933712,478.934579 216.5625,461.310499 216.5625,439.570093 C216.5625,417.829688 198.933712,400.205607 177.1875,400.205607 C155.441288,400.205607 137.8125,417.829688 137.8125,439.570093 C137.8125,461.310499 155.441288,478.934579 177.1875,478.934579 Z M177.1875,255.869159 L177.1875,223.065421 L177.228748,223.065421 C177.201304,221.975295 177.1875,220.881783 177.1875,219.785047 C177.1875,149.12873 234.481061,91.8504673 305.15625,91.8504673 C375.831439,91.8504673 433.125,149.12873 433.125,219.785047 C433.125,220.881783 433.111196,221.975295 433.083752,223.065421 L433.125,223.065421 L433.125,255.869159 L523.525694,255.869159 L525,255.869159 L525,219.785047 C525,98.4011172 426.5726,0 305.15625,0 C183.7399,0 85.3125,98.4011172 85.3125,219.785047 L85.3125,255.869159 L86.7868059,255.869159 L177.1875,255.869159 L177.1875,255.869159 Z M131.25,616.71028 C105.879419,616.71028 85.3125,596.148853 85.3125,570.785047 L85.3125,347.719626 L439.6875,347.719626 L439.6875,570.785047 C439.6875,596.148853 419.120581,616.71028 393.75,616.71028 L131.25,616.71028 L131.25,616.71028 Z M131.25,702 C58.7626266,702 0,643.253064 0,570.785047 L0,255.869159 L525,255.869159 L525,570.785047 C525,643.253064 466.237373,702 393.75,702 L131.25,702 L131.25,702 Z"></path>
      </g>
    </svg><b>mini</b><b>Lock</b><b>Lib</b></a>/<b>fixtures<span class="ext">.coffee</span></b>
  </h1>
</header>



<section id="section-1">
  <div class="annotation"></div>
  <div class="code"><div class='highlight'><pre>Base58 = <span class="hljs-built_in">require</span> <span class="hljs-string">"../library.compiled/Base58"</span>

Alice = exports.Alice = {}
Alice.secretPhrase = <span class="hljs-string">"lions and tigers are not the only ones i am worried about"</span>
Alice.emailAddress = <span class="hljs-string">"alice@example.com"</span>
Alice.miniLockID   = <span class="hljs-string">"CeF5fM7SEdphjktdUbAXaMGm13m6mTZtbprtghvsMRYgw"</span>
Alice.publicKey    = Base58.decode(<span class="hljs-string">"3dz7VdGxZYTDQHHgXij2wgV3GRBu4GzJ8SLuwmAVB4kR"</span>)
Alice.secretKey    = Base58.decode(<span class="hljs-string">"DsMtZntcp7riiWy9ng1xZ29tMPZQ9ioHNzk2i1UyChkF"</span>)
Alice.keys         = {<span class="hljs-attribute">publicKey</span>: Alice.publicKey, <span class="hljs-attribute">secretKey</span>: Alice.secretKey}

Bobby = exports.Bobby = {}
Bobby.secretPhrase = <span class="hljs-string">"No I also got a quesadilla, itâ€™s from the value menu"</span>
Bobby.emailAddress = <span class="hljs-string">"bobby@example.com"</span>
Bobby.miniLockID   = <span class="hljs-string">"2CtUp8U3iGykxaqyEDkGJjgZTsEtzzYQCd8NVmLspM4i2b"</span>
Bobby.publicKey    = Base58.decode(<span class="hljs-string">"GqNFkqGZv1dExFGTZLmhiqqbBUcoDarD9e1nwTFgj9zn"</span>)
Bobby.secretKey    = Base58.decode(<span class="hljs-string">"A699ac6jesP643rkM71jAxs33wY9mk6VoYDQrG9B3Kw7"</span>)
Bobby.keys         = {<span class="hljs-attribute">publicKey</span>: Bobby.publicKey, <span class="hljs-attribute">secretKey</span>: Bobby.secretKey}

read = exports.r<span class="hljs-function"><span class="hljs-title">ead</span> = <span class="hljs-params">(name, callback)</span> -&gt;</span>
  read.files[name] <span class="hljs-function"><span class="hljs-params">(error, processed)</span> -&gt;</span>
    <span class="hljs-keyword">if</span> error <span class="hljs-keyword">then</span> <span class="hljs-keyword">throw</span> error
    callback(processed.data)

read.files =
  <span class="hljs-string">"basic.txt"</span>: <span class="hljs-function"><span class="hljs-params">(callback)</span> -&gt;</span>
    callback <span class="hljs-literal">undefined</span>,
      <span class="hljs-attribute">data</span>: <span class="hljs-keyword">new</span> Blob [<span class="hljs-string">"This is only a test!"</span>], <span class="hljs-attribute">type</span>: <span class="hljs-string">"text/plain"</span>
      <span class="hljs-attribute">name</span>: <span class="hljs-string">"basic.txt"</span>
  <span class="hljs-string">"alice.txt.minilock"</span>: <span class="hljs-function"><span class="hljs-params">(callback)</span> -&gt;</span>
    miniLockLib.encrypt
      <span class="hljs-attribute">version</span>: <span class="hljs-number">1</span>
      <span class="hljs-attribute">data</span>: <span class="hljs-keyword">new</span> Blob [<span class="hljs-string">"This is only a test!"</span>], <span class="hljs-attribute">type</span>: <span class="hljs-string">"text/plain"</span>
      <span class="hljs-attribute">name</span>: <span class="hljs-string">"alice.txt"</span>
      <span class="hljs-attribute">keys</span>: Alice.keys
      <span class="hljs-attribute">miniLockIDs</span>: [Alice.miniLockID]
      <span class="hljs-string">'callback'</span>: callback
  <span class="hljs-string">"alice.txt.v1.minilock"</span>: <span class="hljs-function"><span class="hljs-params">(callback)</span> -&gt;</span>
    miniLockLib.encrypt
      <span class="hljs-attribute">version</span>: <span class="hljs-number">1</span>
      <span class="hljs-attribute">data</span>: <span class="hljs-keyword">new</span> Blob [<span class="hljs-string">"This is only a test!"</span>], <span class="hljs-attribute">type</span>: <span class="hljs-string">"text/plain"</span>
      <span class="hljs-attribute">name</span>: <span class="hljs-string">"alice.txt.v1"</span>
      <span class="hljs-attribute">keys</span>: Alice.keys
      <span class="hljs-attribute">miniLockIDs</span>: [Alice.miniLockID]
      <span class="hljs-string">'callback'</span>: callback
  <span class="hljs-string">"alice.txt.v2.minilock"</span>: <span class="hljs-function"><span class="hljs-params">(callback)</span> -&gt;</span>
    miniLockLib.encrypt
      <span class="hljs-attribute">version</span>: <span class="hljs-number">2</span>
      <span class="hljs-attribute">data</span>: <span class="hljs-keyword">new</span> Blob [<span class="hljs-string">"This is only a test!"</span>], <span class="hljs-attribute">type</span>: <span class="hljs-string">"text/plain"</span>
      <span class="hljs-attribute">name</span>: <span class="hljs-string">"alice.txt.v2"</span>
      <span class="hljs-attribute">type</span>: <span class="hljs-string">"text/plain"</span>
      <span class="hljs-attribute">time</span>: (<span class="hljs-keyword">new</span> Date <span class="hljs-string">"2014-08-17T07:06:50.095Z"</span>).getTime()
      <span class="hljs-attribute">keys</span>: Alice.keys
      <span class="hljs-attribute">miniLockIDs</span>: [Alice.miniLockID]
      <span class="hljs-string">'callback'</span>: callback
  <span class="hljs-string">"alice_and_bobby.txt.minilock"</span>: <span class="hljs-function"><span class="hljs-params">(callback)</span> -&gt;</span>
    miniLockLib.encrypt
      <span class="hljs-attribute">data</span>: <span class="hljs-keyword">new</span> Blob [<span class="hljs-string">"This is only a test!"</span>], <span class="hljs-attribute">type</span>: <span class="hljs-string">"text/plain"</span>
      <span class="hljs-attribute">name</span>: <span class="hljs-string">"alice_and_bobby.txt"</span>
      <span class="hljs-attribute">keys</span>: Alice.keys
      <span class="hljs-attribute">miniLockIDs</span>: [Alice.miniLockID, Bobby.miniLockID]
      <span class="hljs-string">'callback'</span>: callback

exports.r<span class="hljs-function"><span class="hljs-title">eadFromNetwork</span> = <span class="hljs-params">(name, callback)</span> -&gt;</span>
  request = <span class="hljs-keyword">new</span> XMLHttpRequest
  path = <span class="hljs-string">"/fixtures/"</span> + name
  request.open <span class="hljs-string">"GET"</span>, path, <span class="hljs-literal">true</span>
  request.responseType = <span class="hljs-string">"blob"</span>
  request.o<span class="hljs-function"><span class="hljs-title">nreadystatechange</span> = <span class="hljs-params">(event)</span> -&gt;</span>
    <span class="hljs-keyword">if</span> request.readyState <span class="hljs-keyword">is</span> <span class="hljs-number">4</span>
      callback request.response
  request.send()</pre></div></div>
</section>


<nav class="files">
  <a  >library/index<span class="ext">.coffee</span></a>
  
  
  
  <br>
  <a href="AbstractOperation.html">library/AbstractOperation<span class="ext">.coffee</span></a>
  
  
  
  
  <br>
  <a href="BLAKE2s.html">library/BLAKE2s<span class="ext">.coffee</span></a>
  
  
  
  
  <br>
  <a href="Base58.html">library/Base58<span class="ext">.coffee</span></a>
  
  
  
  
  <br>
  <a href="DecryptOperation.html">library/DecryptOperation<span class="ext">.coffee</span></a>
  
  
  
  
  <br>
  <a href="EncryptOperation.html">library/EncryptOperation<span class="ext">.coffee</span></a>
  
  
  
  
  <br>
  <a href="ID.html">library/ID<span class="ext">.coffee</span></a>
  
  
  
  
  <br>
  <a href="Keys.html">library/Keys<span class="ext">.coffee</span></a>
  
  
  
  
  <br>
  <a href="NaCl.html">library/NaCl<span class="ext">.coffee</span></a>
  
  
  
  
  
  
  
  <br>
  <a href="util.html">library/util<span class="ext">.coffee</span></a>
  
  
  
  
  <br>
  <a href="0 A demo of... tests.html">tests/0 A demo of... tests<span class="ext">.coffee</span></a>
  
  
  
  
  <br>
  <a href="1 Acceptability tests.html">tests/1 Acceptability tests<span class="ext">.coffee</span></a>
  
  
  
  
  <br>
  <a href="1 Decrypt Operation tests.html">tests/1 Decrypt Operation tests<span class="ext">.coffee</span></a>
  
  
  
  
  <br>
  <a href="1 Encrypt Operation tests.html">tests/1 Encrypt Operation tests<span class="ext">.coffee</span></a>
  
  
  
  
  <br>
  <a href="1 Identification tests.html">tests/1 Identification tests<span class="ext">.coffee</span></a>
  
  
  
  
  <br>
  <a href="1 Key Pair tests.html">tests/1 Key Pair tests<span class="ext">.coffee</span></a>
  
  
  
  
  <br>
  <a href="2 Slow Operation tests.html">tests/2 Slow Operation tests<span class="ext">.coffee</span></a>
  
  
  
  
  <br>
  <a >tests/fixtures<span class="ext">.coffee</span></a>
  
  
  
  
  <br>
  <a href="tape_test_harness.html">tests/tape_test_harness<span class="ext">.coffee</span></a>
  
  
  
  
  <br>
  <a href="annotated_code.html">website/annotated_code<span class="ext">.coffee</span></a>
  
  
  
  
  
</nav>
</body>
</html>
